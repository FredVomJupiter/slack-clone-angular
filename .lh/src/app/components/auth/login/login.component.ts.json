{
    "sourceFile": "src/app/components/auth/login/login.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1685864558670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1686157795065,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n export class LoginComponent implements OnInit {\r\n   isPasswordVisible: boolean = false;\r\n   visibiltyIcon: string = 'visibility';\r\n   tokenName = 'logged-token';\r\n-  minLengthPassword: number = 5;\r\n+  minLengthPassword: number = 6;\r\n   form!: FormGroup;\r\n \r\n   constructor(\r\n     private authService: AuthService,\r\n"
                }
            ],
            "date": 1685864558670,
            "name": "Commit-0",
            "content": "import { Component, OnInit } from '@angular/core';\r\nimport { Firestore } from '@angular/fire/firestore';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { AuthService } from 'src/app/shared/services/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  isPasswordVisible: boolean = false;\r\n  visibiltyIcon: string = 'visibility';\r\n  tokenName = 'logged-token';\r\n  minLengthPassword: number = 5;\r\n  form!: FormGroup;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private formBuilder: FormBuilder,\r\n    private router: Router,\r\n    private snackBar: MatSnackBar,\r\n    private firestore: Firestore\r\n  ) {\r\n    \r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.form = this.formBuilder.group({\r\n      email: ['', [Validators.required, Validators.email]],\r\n      password: ['', [Validators.required]]\r\n      })\r\n  }\r\n\r\n  login() {\r\n    this.authService.signIn(\r\n      this.form.value.email,\r\n      this.form.value.password\r\n    ).subscribe({\r\n      next: () => {\r\n        localStorage.setItem(this.tokenName, 'logged-token');\r\n        this.router.navigate(['dashboard'])\r\n      },\r\n      error: error => {\r\n        this.snackBar.open(error.message, \"OK\", {\r\n          duration: 5000\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  guestLogin() {\r\n    localStorage.setItem(this.tokenName, 'guest-login');\r\n    this.router.navigate(['dashboard']);\r\n  }\r\n\r\n  signInWithGoogle() {\r\n    this.authService.signInWithGoogle();\r\n  }\r\n\r\n  togglePwVisibility(passwordInput: HTMLInputElement) {\r\n    this.isPasswordVisible = !this.isPasswordVisible;\r\n    passwordInput.type = this.isPasswordVisible ? 'text' : 'password';\r\n    this.visibiltyIcon = this.isPasswordVisible ? 'visibility_off' : 'visibility';\r\n  }\r\n\r\n}\r\n"
        }
    ]
}