{
    "sourceFile": "src/app/shared/services/user.service.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 23,
            "patches": [
                {
                    "date": 1686157013594,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1686157608164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,17 +1,21 @@\n import { Injectable } from '@angular/core';\n-import { CollectionReference, DocumentData, Firestore, collection } from '@angular/fire/firestore';\n+import { CollectionReference, DocumentData, Firestore, addDoc, collection } from '@angular/fire/firestore';\n+import { User } from 'src/models/user.class';\n \n @Injectable({\n   providedIn: 'root'\n })\n export class UserService {\n   private userColl: CollectionReference<DocumentData>;\n+  private user!: User;\n \n   constructor(\n     private firestore: Firestore,\n   ) { \n     this.userColl = collection(this.firestore, 'users');\n   }\n \n-  \n+  setNewUser() {\n+    console.log(this.userColl);\n+  }\n }\n"
                },
                {
                    "date": 1686158107001,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import { Injectable } from '@angular/core';\n-import { CollectionReference, DocumentData, Firestore, addDoc, collection } from '@angular/fire/firestore';\n+import { CollectionReference, DocumentData, Firestore, addDoc, collection, doc } from '@angular/fire/firestore';\n import { User } from 'src/models/user.class';\n \n @Injectable({\n   providedIn: 'root'\n@@ -15,7 +15,7 @@\n     this.userColl = collection(this.firestore, 'users');\n   }\n \n   setNewUser() {\n-    console.log(this.userColl);\n+    console.log(doc(this.userColl));\n   }\n }\n"
                },
                {
                    "date": 1686158193328,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import { Injectable } from '@angular/core';\n-import { CollectionReference, DocumentData, Firestore, addDoc, collection, doc } from '@angular/fire/firestore';\n+import { CollectionReference, DocumentData, Firestore, addDoc, collection, doc, docData } from '@angular/fire/firestore';\n import { User } from 'src/models/user.class';\n \n @Injectable({\n   providedIn: 'root'\n@@ -15,7 +15,9 @@\n     this.userColl = collection(this.firestore, 'users');\n   }\n \n   setNewUser() {\n-    console.log(doc(this.userColl));\n+    const docRef = doc(this.userColl);\n+    const userData = docData(docRef);\n+    console.log(userData);\n   }\n }\n"
                },
                {
                    "date": 1686158374780,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,10 +14,13 @@\n   ) { \n     this.userColl = collection(this.firestore, 'users');\n   }\n \n-  setNewUser() {\n+  setNewUser(uID: string) {\n     const docRef = doc(this.userColl);\n     const userData = docData(docRef);\n-    console.log(userData);\n+    userData.subscribe((user: any) => {\n+      this.user.phone = 12345;\n+      this.user.customIdName = uID;\n+    })\n   }\n }\n"
                },
                {
                    "date": 1686158510330,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,8 +18,9 @@\n   setNewUser(uID: string) {\n     const docRef = doc(this.userColl);\n     const userData = docData(docRef);\n     userData.subscribe((user: any) => {\n+      console.log(user);\n       this.user.phone = 12345;\n       this.user.customIdName = uID;\n     })\n   }\n"
                },
                {
                    "date": 1686158536854,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,9 +19,9 @@\n     const docRef = doc(this.userColl);\n     const userData = docData(docRef);\n     userData.subscribe((user: any) => {\n       console.log(user);\n-      this.user.phone = 12345;\n+      this.user.phone = 1232;\n       this.user.customIdName = uID;\n     })\n   }\n }\n"
                },
                {
                    "date": 1686158570200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -18,10 +18,9 @@\n   setNewUser(uID: string) {\n     const docRef = doc(this.userColl);\n     const userData = docData(docRef);\n     userData.subscribe((user: any) => {\n-      console.log(user);\n-      this.user.phone = 1232;\n+      console.log(\"USER: \",user);\n       this.user.customIdName = uID;\n     })\n   }\n }\n"
                },
                {
                    "date": 1686160780472,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import { Injectable } from '@angular/core';\n-import { CollectionReference, DocumentData, Firestore, addDoc, collection, doc, docData } from '@angular/fire/firestore';\n+import { CollectionReference, DocumentData, Firestore, addDoc, collection, doc, docData, setDoc } from '@angular/fire/firestore';\n import { User } from 'src/models/user.class';\n \n @Injectable({\n   providedIn: 'root'\n@@ -17,10 +17,9 @@\n \n   setNewUser(uID: string) {\n     const docRef = doc(this.userColl);\n     const userData = docData(docRef);\n-    userData.subscribe((user: any) => {\n-      console.log(\"USER: \",user);\n-      this.user.customIdName = uID;\n+    setDoc(docRef, {\n+      uid: uID,\n     })\n   }\n }\n"
                },
                {
                    "date": 1686161940655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,12 +14,17 @@\n   ) { \n     this.userColl = collection(this.firestore, 'users');\n   }\n \n-  setNewUser(uID: string) {\n+  setNewUsers(uID: string) {\n     const docRef = doc(this.userColl);\n     const userData = docData(docRef);\n     setDoc(docRef, {\n       uid: uID,\n     })\n   }\n+  setNewUser(uID: string) {\n+    setDoc(doc(this.firestore, 'users', uID), {\n+      email: \"eine@mail.de\"\n+    })\n+  }\n }\n"
                },
                {
                    "date": 1686161976590,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,9 @@\n       uid: uID,\n     })\n   }\n   setNewUser(uID: string) {\n-    setDoc(doc(this.firestore, 'users', uID), {\n+    setDoc(doc(this.userColl, uID), {\n       email: \"eine@mail.de\"\n     })\n   }\n }\n"
                },
                {
                    "date": 1686163068104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,9 +22,7 @@\n       uid: uID,\n     })\n   }\n   setNewUser(uID: string) {\n-    setDoc(doc(this.userColl, uID), {\n-      email: \"eine@mail.de\"\n-    })\n+    setDoc(doc(this.userColl, uID), this.user.toJson())\n   }\n }\n"
                },
                {
                    "date": 1686163104863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,7 +22,8 @@\n       uid: uID,\n     })\n   }\n   setNewUser(uID: string) {\n+    this.user.email = \"hallotest@test.com\"\n     setDoc(doc(this.userColl, uID), this.user.toJson())\n   }\n }\n"
                },
                {
                    "date": 1686163166253,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,8 +22,9 @@\n       uid: uID,\n     })\n   }\n   setNewUser(uID: string) {\n-    this.user.email = \"hallotest@test.com\"\n+    this.user.email = \"hallotest@test.com\";\n+    console.log(this.user.email);\n     setDoc(doc(this.userColl, uID), this.user.toJson())\n   }\n }\n"
                },
                {
                    "date": 1686163184169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n   providedIn: 'root'\n })\n export class UserService {\n   private userColl: CollectionReference<DocumentData>;\n-  private user!: User;\n+  public user!: User;\n \n   constructor(\n     private firestore: Firestore,\n   ) { \n"
                },
                {
                    "date": 1686163216463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,9 @@\n   providedIn: 'root'\n })\n export class UserService {\n   private userColl: CollectionReference<DocumentData>;\n-  public user!: User;\n+  public user = new User();\n \n   constructor(\n     private firestore: Firestore,\n   ) { \n"
                },
                {
                    "date": 1686163669537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,10 +21,16 @@\n     setDoc(docRef, {\n       uid: uID,\n     })\n   }\n-  setNewUser(uID: string) {\n-    this.user.email = \"hallotest@test.com\";\n-    console.log(this.user.email);\n+  setNewUser(uID: string, email: string) {\n+    this.user.customIdName = uID;\n+    this.user.displayName = this.splitMail(email);\n     setDoc(doc(this.userColl, uID), this.user.toJson())\n   }\n+\n+  splitMail(email: string): string {\n+    const test = email.split('@', 0);\n+    console.log(test);\n+    return \"test\";\n+  }\n }\n"
                },
                {
                    "date": 1686163829668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n     setDoc(doc(this.userColl, uID), this.user.toJson())\n   }\n \n   splitMail(email: string): string {\n-    const test = email.split('@', 0);\n+    const test = email.split('@');\n     console.log(test);\n     return \"test\";\n   }\n }\n"
                },
                {
                    "date": 1686163842832,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,8 +29,8 @@\n   }\n \n   splitMail(email: string): string {\n     const test = email.split('@');\n-    console.log(test);\n+    console.log(test[0]);\n     return \"test\";\n   }\n }\n"
                },
                {
                    "date": 1686163908649,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,8 +21,9 @@\n     setDoc(docRef, {\n       uid: uID,\n     })\n   }\n+  \n   setNewUser(uID: string, email: string) {\n     this.user.customIdName = uID;\n     this.user.displayName = this.splitMail(email);\n     setDoc(doc(this.userColl, uID), this.user.toJson())\n"
                },
                {
                    "date": 1686164852894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -21,17 +21,24 @@\n     setDoc(docRef, {\n       uid: uID,\n     })\n   }\n-  \n+   n\n   setNewUser(uID: string, email: string) {\n     this.user.customIdName = uID;\n     this.user.displayName = this.splitMail(email);\n     setDoc(doc(this.userColl, uID), this.user.toJson())\n   }\n \n   splitMail(email: string): string {\n-    const test = email.split('@');\n-    console.log(test[0]);\n-    return \"test\";\n+    const atIndex = email.indexOf('@');\n+\n+  const firstPart = email.substring(0, atIndex);\n+  const dotIndex = firstPart.indexOf('.');\n+\n+  if (dotIndex === -1) {\n+    return firstPart;\n+  } else {\n+    return firstPart.substring(0, dotIndex);\n   }\n+  }\n }\n"
                },
                {
                    "date": 1686165178282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,9 +10,9 @@\n   public user = new User();\n \n   constructor(\n     private firestore: Firestore,\n-  ) { \n+  ) {\n     this.userColl = collection(this.firestore, 'users');\n   }\n \n   setNewUsers(uID: string) {\n@@ -21,9 +21,9 @@\n     setDoc(docRef, {\n       uid: uID,\n     })\n   }\n-   n\n+\n   setNewUser(uID: string, email: string) {\n     this.user.customIdName = uID;\n     this.user.displayName = this.splitMail(email);\n     setDoc(doc(this.userColl, uID), this.user.toJson())\n@@ -31,14 +31,14 @@\n \n   splitMail(email: string): string {\n     const atIndex = email.indexOf('@');\n \n-  const firstPart = email.substring(0, atIndex);\n-  const dotIndex = firstPart.indexOf('.');\n+    const firstPart = email.substring(0, atIndex);\n+    const dotIndex = firstPart.indexOf('.');\n \n-  if (dotIndex === -1) {\n-    return firstPart;\n-  } else {\n-    return firstPart.substring(0, dotIndex);\n+    if (dotIndex === -1) {\n+      return firstPart;\n+    } else {\n+      return firstPart.substring(0, dotIndex);\n+    }\n   }\n-  }\n }\n"
                },
                {
                    "date": 1686165461864,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,8 +25,9 @@\n \n   setNewUser(uID: string, email: string) {\n     this.user.customIdName = uID;\n     this.user.displayName = this.splitMail(email);\n+    this.user.email = email;\n     setDoc(doc(this.userColl, uID), this.user.toJson())\n   }\n \n   splitMail(email: string): string {\n"
                },
                {
                    "date": 1686168925588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,16 +14,8 @@\n   ) {\n     this.userColl = collection(this.firestore, 'users');\n   }\n \n-  setNewUsers(uID: string) {\n-    const docRef = doc(this.userColl);\n-    const userData = docData(docRef);\n-    setDoc(docRef, {\n-      uid: uID,\n-    })\n-  }\n-\n   setNewUser(uID: string, email: string) {\n     this.user.customIdName = uID;\n     this.user.displayName = this.splitMail(email);\n     this.user.email = email;\n@@ -31,9 +23,8 @@\n   }\n \n   splitMail(email: string): string {\n     const atIndex = email.indexOf('@');\n-\n     const firstPart = email.substring(0, atIndex);\n     const dotIndex = firstPart.indexOf('.');\n \n     if (dotIndex === -1) {\n"
                }
            ],
            "date": 1686157013594,
            "name": "Commit-0",
            "content": "import { Injectable } from '@angular/core';\nimport { CollectionReference, DocumentData, Firestore, collection } from '@angular/fire/firestore';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UserService {\n  private userColl: CollectionReference<DocumentData>;\n\n  constructor(\n    private firestore: Firestore,\n  ) { \n    this.userColl = collection(this.firestore, 'users');\n  }\n\n  \n}\n"
        }
    ]
}